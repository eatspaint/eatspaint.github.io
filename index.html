<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Christian E. Fuller</title>
    <link type="text/css" href="normalize.css" rel="stylesheet"/>
    <link type="text/css" href="skeleton.css" rel="stylesheet"/>
    <script src="https://unpkg.com/react@16.0.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/react-router/umd/react-router.min.js"></script>
    <script src="https://unpkg.com/react-router-dom/umd/react-router-dom.min.js"></script>
    <script src="https://unpkg.com/styled-components/dist/styled-components.min.js" type="text/javascript"></script>
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
  </head>
  <body>
    <div id='content'></div>
    <script type="text/babel">
      const Router = window.ReactRouterDOM.HashRouter;
      const Route =  window.ReactRouterDOM.Route;
      const Link =  window.ReactRouterDOM.Link;
      const Prompt =  window.ReactRouterDOM.Prompt;
      const Switch = window.ReactRouterDOM.Switch;
      const Redirect = window.ReactRouterDOM.Redirect;
      const Styled = window.styled;

      const App = () => (
        <div>
          <StyledHeader />
          <Main />
        </div>
      );

      const Header = ({className}) => (
        <header className={className}>
          <nav>
            <ul>
              <li><Link to='/'>Hello</Link></li>
              <li><Link to='/work'>Work</Link></li>
              <li><Link to='/essence'>Essence</Link></li>
            </ul>
          </nav>
        </header>
      );

      const StyledHeader = Styled.default(Header)`
        color: #0ff;
        a {
          color: #f0f;
          text-decoration: none;
        }
      `;

      class Main extends React.Component {
        render() {
          return (
            <main>
              <Switch>
                <Route exact path='/' component={Hello}/>
                <Route path='/work' component={Work}/>
                <Route path='/essence' component={Essence}/>
              </Switch>
            </main>
          );
        }
      };

      const Hello = () => (
        <div>
          <h2>Eatspaint says Hello</h2>
        </div>
      );

      const Work = () => (
        <div>
          <h2>Work</h2>
          <Switch>
            <Route exact path='/work' component={AllWork}/>
            <Route path='/work/:name' component={WorkDetail}/>
          </Switch>
        </div>
      );

      const AllWork = () => (
        <div>
          <h2>All Work</h2>
        </div>
      );

      const WorkDetail = (props) => {
        const job = props.match.params.name;
        if (!job) {
          return <div>Sorry, nothing here.</div>
        }
        return (
          <div>
            <h2>{job}</h2>
          </div>
        )
      };

      const Essence = () => (
        <div>
          <h2>Essence</h2>
        </div>
      );

      ReactDOM.render(
        <Router>
          <App />
        </Router>,
        document.getElementById('content')
      );
    </script>
  </body>
</html>
